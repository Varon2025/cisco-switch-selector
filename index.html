<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cisco Product Selector</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
</head>
<body>
    <div id="root"></div>
    <script type="text/babel">
        const { useState, useEffect, useMemo } = React;
        const API_URL = '/api';

        function SwitchSelector() {
            const [products, setProducts] = useState([]);
            const [loading, setLoading] = useState(true);
            const [error, setError] = useState(null);
            const [filters, setFilters] = useState({
                portfolio: [], series: [], ports: [], portMedia: [], downlinkSpeed: [],
                uplinkSpeed: [], poeType: [], poeBudget: null, layer: [], stacking: []
            });
            const [searchTerm, setSearchTerm] = useState('');
            const [selectedProducts, setSelectedProducts] = useState([]);
            const [cart, setCart] = useState([]);
            const [view, setView] = useState('selector');

            useEffect(() => {
                fetchProducts();
            }, []);

            const fetchProducts = async () => {
                try {
                    setLoading(true);
                    const response = await axios.get(`${API_URL}/products`);
                    setProducts(response.data.data);
                    setError(null);
                } catch (err) {
                    setError('Erreur de connexion √† l\'API');
                } finally {
                    setLoading(false);
                }
            };

            const filteredProducts = useMemo(() => {
                return products.filter(product => {
                    if (searchTerm && !product.name.toLowerCase().includes(searchTerm.toLowerCase()) && 
                        !product.id.toLowerCase().includes(searchTerm.toLowerCase())) return false;
                    if (filters.portfolio.length > 0 && !filters.portfolio.includes(product.portfolio)) return false;
                    if (filters.series.length > 0 && !filters.series.includes(product.series)) return false;
                    if (filters.ports.length > 0 && !filters.ports.includes(product.ports)) return false;
                    if (filters.portMedia.length > 0 && !filters.portMedia.includes(product.port_media)) return false;
                    if (filters.downlinkSpeed.length > 0 && !filters.downlinkSpeed.includes(product.downlink_speed)) return false;
                    if (filters.uplinkSpeed.length > 0 && !filters.uplinkSpeed.includes(product.uplink_speed)) return false;
                    if (filters.poeType.length > 0 && !filters.poeType.includes(product.poe_type)) return false;
                    if (filters.poeBudget && product.poe_budget < filters.poeBudget) return false;
                    if (filters.layer.length > 0 && !filters.layer.includes(product.layer)) return false;
                    if (filters.stacking.length > 0 && !filters.stacking.includes(product.stacking)) return false;
                    return true;
                });
            }, [products, filters, searchTerm]);

            const availableOptions = useMemo(() => {
                const portfolios = [...new Set(products.map(p => p.portfolio))];
                const allSeries = [...new Set(products.map(p => p.series))];
                const ports = [...new Set(filteredProducts.map(p => p.ports))].sort((a, b) => a - b);
                const portMedias = [...new Set(filteredProducts.map(p => p.port_media))];
                const downlinkSpeeds = [...new Set(filteredProducts.map(p => p.downlink_speed))];
                const uplinkSpeeds = [...new Set(filteredProducts.map(p => p.uplink_speed))];
                const poeTypes = [...new Set(filteredProducts.map(p => p.poe_type))];
                const layers = [...new Set(filteredProducts.map(p => p.layer))];
                const stackings = [...new Set(filteredProducts.map(p => p.stacking))];
                return { portfolios, allSeries, ports, portMedias, downlinkSpeeds, uplinkSpeeds, poeTypes, layers, stackings };
            }, [products, filteredProducts]);

            const toggleFilter = (category, value) => {
                setFilters(prev => {
                    if (Array.isArray(prev[category])) {
                        const current = prev[category];
                        return { ...prev, [category]: current.includes(value) ? current.filter(v => v !== value) : [...current, value] };
                    }
                    return { ...prev, [category]: prev[category] === value ? null : value };
                });
            };

            const toggleProductSelection = (productId) => {
                setSelectedProducts(prev => prev.includes(productId) ? prev.filter(id => id !== productId) : [...prev, productId]);
            };

            const addToCart = (product) => {
                setCart(prev => {
                    const existing = prev.find(item => item.id === product.id);
                    if (existing) return prev.map(item => item.id === product.id ? { ...item, quantity: item.quantity + 1 } : item);
                    return [...prev, { ...product, quantity: 1 }];
                });
            };

            const updateQuantity = (productId, quantity) => {
                if (quantity < 1) {
                    setCart(prev => prev.filter(item => item.id !== productId));
                    return;
                }
                setCart(prev => prev.map(item => item.id === productId ? { ...item, quantity } : item));
            };

            const resetFilters = () => {
                setFilters({ portfolio: [], series: [], ports: [], portMedia: [], downlinkSpeed: [], uplinkSpeed: [], poeType: [], poeBudget: null, layer: [], stacking: [] });
                setSearchTerm('');
            };

            if (loading) {
                return (
                    <div className="min-h-screen bg-gray-50 flex items-center justify-center">
                        <div className="text-center">
                            <div className="animate-spin rounded-full h-16 w-16 border-b-2 border-blue-600 mx-auto mb-4"></div>
                            <p className="text-gray-600">Chargement...</p>
                        </div>
                    </div>
                );
            }

            if (error) {
                return (
                    <div className="min-h-screen bg-gray-50 flex items-center justify-center">
                        <div className="bg-white rounded-lg shadow p-8 text-center">
                            <p className="text-red-600 mb-4">{error}</p>
                            <button onClick={fetchProducts} className="px-4 py-2 bg-blue-600 text-white rounded">R√©essayer</button>
                        </div>
                    </div>
                );
            }

            if (view === 'compare') {
                const compareProducts = products.filter(p => selectedProducts.includes(p.id));
                return (
                    <div className="min-h-screen bg-gray-50">
                        <div className="bg-gradient-to-r from-blue-600 to-blue-800 text-white p-6">
                            <div className="max-w-7xl mx-auto flex items-center justify-between">
                                <h1 className="text-3xl font-bold">Comparaison ({compareProducts.length})</h1>
                                <button onClick={() => setView('selector')} className="px-6 py-2 bg-white text-blue-600 rounded-lg">‚Üê Retour</button>
                            </div>
                        </div>
                        <div className="max-w-7xl mx-auto p-6 overflow-x-auto">
                            <div className="bg-white rounded-lg shadow">
                                <table className="w-full">
                                    <thead className="bg-gray-50">
                                        <tr>
                                            <th className="px-6 py-4 text-left font-semibold">Caract√©ristiques</th>
                                            {compareProducts.map(p => (
                                                <th key={p.id} className="px-6 py-4 text-center min-w-48">
                                                    <div className="font-semibold">{p.name}</div>
                                                </th>
                                            ))}
                                        </tr>
                                    </thead>
                                    <tbody className="divide-y">
                                        <tr className="bg-blue-50">
                                            <td className="px-6 py-4 font-medium">Prix</td>
                                            {compareProducts.map(p => (
                                                <td key={p.id} className="px-6 py-4 text-center text-xl font-bold text-blue-600">
                                                    ‚Ç¨{parseFloat(p.price).toFixed(0)}
                                                </td>
                                            ))}
                                        </tr>
                                        <tr>
                                            <td className="px-6 py-4 font-medium">S√©rie</td>
                                            {compareProducts.map(p => <td key={p.id} className="px-6 py-4 text-center">{p.series}</td>)}
                                        </tr>
                                        <tr className="bg-gray-50">
                                            <td className="px-6 py-4 font-medium">Ports</td>
                                            {compareProducts.map(p => <td key={p.id} className="px-6 py-4 text-center">{p.ports}</td>)}
                                        </tr>
                                        <tr>
                                            <td className="px-6 py-4 font-medium">Vitesse</td>
                                            {compareProducts.map(p => <td key={p.id} className="px-6 py-4 text-center">{p.downlink_speed}</td>)}
                                        </tr>
                                        <tr className="bg-gray-50">
                                            <td className="px-6 py-4 font-medium">Type</td>
                                            {compareProducts.map(p => <td key={p.id} className="px-6 py-4 text-center">{p.port_media}</td>)}
                                        </tr>
                                        <tr>
                                            <td className="px-6 py-4 font-medium">PoE</td>
                                            {compareProducts.map(p => <td key={p.id} className="px-6 py-4 text-center">{p.poe_type}</td>)}
                                        </tr>
                                        <tr className="bg-gray-50">
                                            <td className="px-6 py-4 font-medium">Budget PoE</td>
                                            {compareProducts.map(p => <td key={p.id} className="px-6 py-4 text-center">{p.poe_budget}W</td>)}
                                        </tr>
                                        <tr>
                                            <td className="px-6 py-4 font-medium">Uplinks</td>
                                            {compareProducts.map(p => <td key={p.id} className="px-6 py-4 text-center">{p.uplink_speed}</td>)}
                                        </tr>
                                        <tr className="bg-gray-50">
                                            <td className="px-6 py-4 font-medium">Niveau</td>
                                            {compareProducts.map(p => <td key={p.id} className="px-6 py-4 text-center">{p.layer}</td>)}
                                        </tr>
                                        <tr>
                                            <td className="px-6 py-4 font-medium">Stacking</td>
                                            {compareProducts.map(p => <td key={p.id} className="px-6 py-4 text-center">{p.stacking}</td>)}
                                        </tr>
                                        <tr className="bg-blue-50">
                                            <td className="px-6 py-4 font-medium">Actions</td>
                                            {compareProducts.map(p => (
                                                <td key={p.id} className="px-6 py-4 text-center">
                                                    <button onClick={() => addToCart(p)} className="px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700">
                                                        Ajouter
                                                    </button>
                                                </td>
                                            ))}
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                );
            }

            if (view === 'cart') {
                const total = cart.reduce((sum, item) => sum + (parseFloat(item.price) * item.quantity), 0);
                return (
                    <div className="min-h-screen bg-gray-50">
                        <div className="bg-gradient-to-r from-blue-600 to-blue-800 text-white p-6">
                            <div className="max-w-7xl mx-auto flex items-center justify-between">
                                <h1 className="text-3xl font-bold">Panier ({cart.length})</h1>
                                <button onClick={() => setView('selector')} className="px-6 py-2 bg-white text-blue-600 rounded-lg">‚Üê Retour</button>
                            </div>
                        </div>
                        <div className="max-w-7xl mx-auto p-6">
                            {cart.length === 0 ? (
                                <div className="bg-white rounded-lg shadow p-12 text-center">
                                    <p className="text-xl text-gray-500 mb-4">Votre panier est vide</p>
                                    <button onClick={() => setView('selector')} className="px-6 py-2 bg-blue-600 text-white rounded-lg">Commencer</button>
                                </div>
                            ) : (
                                <div className="grid grid-cols-3 gap-6">
                                    <div className="col-span-2 space-y-4">
                                        {cart.map(item => (
                                            <div key={item.id} className="bg-white rounded-lg shadow p-4">
                                                <div className="flex justify-between items-start mb-3">
                                                    <div>
                                                        <h3 className="font-semibold text-lg">{item.name}</h3>
                                                        <p className="text-sm text-gray-600">{item.id}</p>
                                                    </div>
                                                    <button onClick={() => setCart(prev => prev.filter(i => i.id !== item.id))} className="p-1 hover:bg-red-100 rounded text-red-600">√ó</button>
                                                </div>
                                                <div className="flex items-center justify-between pt-3 border-t">
                                                    <div className="flex items-center gap-3">
                                                        <button onClick={() => updateQuantity(item.id, item.quantity - 1)} className="w-8 h-8 bg-gray-100 rounded hover:bg-gray-200">-</button>
                                                        <span className="font-medium w-8 text-center">{item.quantity}</span>
                                                        <button onClick={() => updateQuantity(item.id, item.quantity + 1)} className="w-8 h-8 bg-gray-100 rounded hover:bg-gray-200">+</button>
                                                    </div>
                                                    <div className="text-xl font-bold text-blue-600">‚Ç¨{(parseFloat(item.price) * item.quantity).toFixed(0)}</div>
                                                </div>
                                            </div>
                                        ))}
                                    </div>
                                    <div className="col-span-1">
                                        <div className="bg-white rounded-lg shadow p-6 sticky top-6">
                                            <h2 className="text-xl font-bold mb-4">R√©sum√©</h2>
                                            <div className="flex justify-between text-lg font-bold mb-6">
                                                <span>Total</span>
                                                <span className="text-blue-600">‚Ç¨{total.toFixed(0)}</span>
                                            </div>
                                            <button onClick={() => alert('Export Excel')} className="w-full px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700">Exporter</button>
                                        </div>
                                    </div>
                                </div>
                            )}
                        </div>
                    </div>
                );
            }

            const allPortfolios = ['Cisco Business', 'Cisco Meraki', 'Cisco Enterprise Catalyst', 'Cisco Switching', 'Cisco IoT', 'Nexus'];
            const allSeriesList = ['Cisco 1200 Series', 'Cisco 1300 Series'];

            return (
                <div className="min-h-screen bg-gray-50">
                    <div style={{backgroundColor: '#07182D'}} className="text-white shadow-lg">
    <div className="max-w-7xl mx-auto px-6 py-4 flex items-center justify-between">
        <div className="flex items-center gap-6">
            <button className="text-white hover:bg-gray-700 p-2 rounded">
                <svg className="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M4 6h16M4 12h16M4 18h16"/>
                </svg>
            </button>
            <div className="flex items-center gap-3">
                <img src="/images/cisco-logo-white.png" alt="Cisco" className="h-8" />
                <div>
                    <div className="text-xs text-gray-400">Cisco</div>
                    <h1 className="text-xl font-bold">Switching Selector</h1>
                </div>
            </div>
        </div>
        <div className="flex items-center gap-4">
            <span className="text-sm text-gray-300">{products.length} produits</span>
        </div>
    </div>
</div>
                    <div className="max-w-7xl mx-auto p-6">
                        <div className="mb-6 bg-white rounded-lg shadow p-4">
                            <div className="flex gap-4 items-center">
                                <div className="flex-1 relative">
                                    <input 
                                        type="text" 
                                        placeholder="Rechercher..." 
                                        className="w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500" 
                                        value={searchTerm} 
                                        onChange={(e) => setSearchTerm(e.target.value)} 
                                    />
                                </div>
                                <button onClick={resetFilters} className="px-4 py-2 bg-gray-100 rounded-lg hover:bg-gray-200">
                                    R√©initialiser
                                </button>
                                <button onClick={() => setView('cart')} className="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700">
                                    üõí Panier ({cart.length})
                                </button>
                            </div>
                        </div>

                        <div className="grid grid-cols-12 gap-6">
                            <div className="col-span-3">
                                <div className="bg-white rounded-lg shadow p-4 sticky top-6">
                                    <h2 className="text-lg font-semibold mb-4">Filtres</h2>
                                    <div className="space-y-4">
                                        <div className="border-b pb-4">
                                            <h3 className="font-medium mb-2 text-sm">Nombre de ports</h3>
                                            {[8, 10, 12, 16, 24, 48].map(port => (
                                                <div 
                                                    key={port}
                                                    onClick={() => availableOptions.ports.includes(port) && toggleFilter('ports', port)} 
                                                    className={`flex items-center gap-2 p-2 rounded cursor-pointer ${!availableOptions.ports.includes(port) ? 'opacity-40' : 'hover:bg-blue-50'} ${filters.ports.includes(port) ? 'bg-blue-100' : ''}`}
                                                >
                                                    <input type="checkbox" checked={filters.ports.includes(port)} readOnly />
                                                    <span className="text-sm">{port} ports</span>
                                                </div>
                                            ))}
                                        </div>

                                        <div className="border-b pb-4">
                                            <h3 className="font-medium mb-2 text-sm">Type de ports</h3>
                                            {['Cuivre', 'Fibre'].map(media => (
                                                <div 
                                                    key={media}
                                                    onClick={() => availableOptions.portMedias.includes(media) && toggleFilter('portMedia', media)} 
                                                    className={`flex items-center gap-2 p-2 rounded cursor-pointer ${!availableOptions.portMedias.includes(media) ? 'opacity-40' : 'hover:bg-blue-50'} ${filters.portMedia.includes(media) ? 'bg-blue-100' : ''}`}
                                                >
                                                    <input type="checkbox" checked={filters.portMedia.includes(media)} readOnly />
                                                    <span className="text-sm">{media}</span>
                                                </div>
                                            ))}
                                        </div>

                                        <div className="border-b pb-4">
                                            <h3 className="font-medium mb-2 text-sm">Vitesse Downlink</h3>
                                            {['1G', 'mGig', '10G'].map(speed => (
                                                <div 
                                                    key={speed}
                                                    onClick={() => availableOptions.downlinkSpeeds.includes(speed) && toggleFilter('downlinkSpeed', speed)} 
                                                    className={`flex items-center gap-2 p-2 rounded cursor-pointer ${!availableOptions.downlinkSpeeds.includes(speed) ? 'opacity-40' : 'hover:bg-blue-50'} ${filters.downlinkSpeed.includes(speed) ? 'bg-blue-100' : ''}`}
                                                >
                                                    <input type="checkbox" checked={filters.downlinkSpeed.includes(speed)} readOnly />
                                                    <span className="text-sm">{speed}</span>
                                                </div>
                                            ))}
                                        </div>

                                        <div className="border-b pb-4">
                                            <h3 className="font-medium mb-2 text-sm">Uplinks</h3>
                                            {['1G', '10G'].map(speed => (
                                                <div 
                                                    key={speed}
                                                    onClick={() => availableOptions.uplinkSpeeds.includes(speed) && toggleFilter('uplinkSpeed', speed)} 
                                                    className={`flex items-center gap-2 p-2 rounded cursor-pointer ${!availableOptions.uplinkSpeeds.includes(speed) ? 'opacity-40' : 'hover:bg-blue-50'} ${filters.uplinkSpeed.includes(speed) ? 'bg-blue-100' : ''}`}
                                                >
                                                    <input type="checkbox" checked={filters.uplinkSpeed.includes(speed)} readOnly />
                                                    <span className="text-sm">{speed}</span>
                                                </div>
                                            ))}
                                        </div>

                                        <div className="border-b pb-4">
                                            <h3 className="font-medium mb-2 text-sm">Power Ethernet</h3>
                                            {['Non PoE', 'PoE+ 30W'].map(poe => (
                                                <div 
                                                    key={poe}
                                                    onClick={() => availableOptions.poeTypes.includes(poe) && toggleFilter('poeType', poe)} 
                                                    className={`flex items-center gap-2 p-2 rounded cursor-pointer ${!availableOptions.poeTypes.includes(poe) ? 'opacity-40' : 'hover:bg-blue-50'} ${filters.poeType.includes(poe) ? 'bg-blue-100' : ''}`}
                                                >
                                                    <input type="checkbox" checked={filters.poeType.includes(poe)} readOnly />
                                                    <span className="text-sm">{poe}</span>
                                                </div>
                                            ))}
                                        </div>

                                        <div className="border-b pb-4">
                                            <h3 className="font-medium mb-2 text-sm">Niveau</h3>
                                            {['Niveau 2', 'Niveau 3 statique'].map(layer => (
                                                <div 
                                                    key={layer}
                                                    onClick={() => availableOptions.layers.includes(layer) && toggleFilter('layer', layer)} 
                                                    className={`flex items-center gap-2 p-2 rounded cursor-pointer ${!availableOptions.layers.includes(layer) ? 'opacity-40' : 'hover:bg-blue-50'} ${filters.layer.includes(layer) ? 'bg-blue-100' : ''}`}
                                                >
                                                    <input type="checkbox" checked={filters.layer.includes(layer)} readOnly />
                                                    <span className="text-sm">{layer}</span>
                                                </div>
                                            ))}
                                        </div>

                                        <div>
                                            <h3 className="font-medium mb-2 text-sm">Stacking</h3>
                                            {['No', 'Yes'].map(stack => (
                                                <div 
                                                    key={stack}
                                                    onClick={() => availableOptions.stackings.includes(stack) && toggleFilter('stacking', stack)} 
                                                    className={`flex items-center gap-2 p-2 rounded cursor-pointer ${!availableOptions.stackings.includes(stack) ? 'opacity-40' : 'hover:bg-blue-50'} ${filters.stacking.includes(stack) ? 'bg-blue-100' : ''}`}
                                                >
                                                    <input type="checkbox" checked={filters.stacking.includes(stack)} readOnly />
                                                    <span className="text-sm">{stack}</span>
                                                </div>
                                            ))}
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div className="col-span-9">
                                <div className="bg-white rounded-lg shadow p-4 mb-4">
                                    <div className="mb-4">
                                        <h3 className="font-semibold mb-3">Gammes</h3>
                                        <div className="flex flex-wrap gap-2">
                                            {allPortfolios.map(portfolio => (
                                                <button 
                                                    key={portfolio}
                                                    onClick={() => toggleFilter('portfolio', portfolio)} 
                                                    className={`px-3 py-1 rounded-full text-sm ${filters.portfolio.includes(portfolio) ? 'bg-blue-600 text-white' : 'bg-gray-100 hover:bg-gray-200'}`}
                                                >
                                                    {portfolio}
                                                </button>
                                            ))}
                                        </div>
                                    </div>
                                    <div className="mb-4 pb-4 border-b">
                                        <h3 className="font-semibold mb-3">S√©ries</h3>
                                        <div className="flex flex-wrap gap-2">
                                            {allSeriesList.map(series => (
                                                <button 
                                                    key={series}
                                                    onClick={() => toggleFilter('series', series)} 
                                                    className={`px-3 py-1 rounded-full text-sm ${filters.series.includes(series) ? 'bg-orange-600 text-white' : 'bg-gray-100 hover:bg-gray-200'}`}
                                                >
                                                    {series}
                                                </button>
                                            ))}
                                        </div>
                                    </div>
                                    <div className="flex justify-between items-center">
                                        <div>
                                            <p className="text-2xl font-bold text-blue-600">{filteredProducts.length}</p>
                                            <p className="text-sm text-gray-600">produit(s)</p>
                                        </div>
                                        {selectedProducts.length > 0 && (
                                            <button onClick={() => setView('compare')} className="px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700">
                                                üìä Comparer ({selectedProducts.length})
                                            </button>
                                        )}
                                    </div>
                                </div>

                                <div className="grid grid-cols-2 gap-4">
                                    {filteredProducts.map(product => (
                                        <div 
                                            key={product.id} 
                                            className={`bg-white rounded-lg shadow hover:shadow-lg p-4 border-2 ${selectedProducts.includes(product.id) ? 'border-blue-500' : 'border-transparent'}`}
                                        >
                                            <div className="flex items-start justify-between mb-2">
                                                <h3 className="font-semibold text-lg">{product.name}</h3>
                                                <button 
                                                    onClick={() => toggleProductSelection(product.id)} 
                                                    className="p-1 hover:bg-gray-100 rounded"
                                                >
                                                    <input type="checkbox" checked={selectedProducts.includes(product.id)} readOnly />
                                                </button>
                                            </div>
                                            <div className="flex gap-1 mb-3">
                                                <span className="px-2 py-1 text-xs rounded bg-blue-100 text-blue-700">{product.series}</span>
                                                <span className="px-2 py-1 text-xs rounded bg-gray-100">{product.downlink_speed}</span>
                                            </div>
                                            <div className="space-y-1 text-sm mb-3">
                                                <div className="flex justify-between">
                                                    <span className="text-gray-600">Ports:</span>
                                                    <span>{product.ports}x {product.downlink_speed}</span>
                                                </div>
                                                <div className="flex justify-between">
                                                    <span className="text-gray-600">Type:</span>
                                                    <span>{product.port_media}</span>
                                                </div>
                                                <div className="flex justify-between">
                                                    <span className="text-gray-600">PoE:</span>
                                                    <span>{product.poe_type}</span>
                                                </div>
                                                <div className="flex justify-between">
                                                    <span className="text-gray-600">Niveau:</span>
                                                    <span>{product.layer}</span>
                                                </div>
                                            </div>
                                            <div className="flex items-center justify-between pt-3 border-t">
                                                <span className="text-2xl font-bold text-blue-600">
                                                    ‚Ç¨{parseFloat(product.price).toFixed(0)}
                                                </span>
                                                <button 
                                                    onClick={() => addToCart(product)} 
                                                    className="px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700"
                                                >
                                                    Ajouter
                                                </button>
                                            </div>
                                        </div>
                                    ))}
                                </div>

                                {filteredProducts.length === 0 && (
                                    <div className="text-center py-12 bg-white rounded-lg shadow">
                                        <p className="text-gray-500 text-lg">Aucun produit ne correspond</p>
                                        <button 
                                            onClick={resetFilters} 
                                            className="mt-4 px-6 py-2 bg-blue-600 text-white rounded-lg"
                                        >
                                            R√©initialiser
                                        </button>
                                    </div>
                                )}
                            </div>
                        </div>
                    </div>
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<SwitchSelector />);
    </script>
</body>
</html>
